<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>赠送</title>
		<meta http-equiv="Content-Security-Policy" content="script-src 'self' 'unsafe-inline' 'unsafe-eval' http://api.grhao.com/server/api.do http://61.164.113.168:8090/grh_api/server/api.do http://61.164.113.168:8090/grh_api/server/farm.do ; style-src 'self' 'unsafe-inline' 'unsafe-eval'  " > 
		
		<meta name="apple-touch-fullscreen" content="no"/>
		<meta name="viewport" content="width=720,user-scalable=0"/>
		<meta content="telephone=no, address=no" name="format-detection" />
		<link rel="stylesheet" href="../css/rest.css" />
		<link rel="stylesheet" type="text/css" href="../css/base.css"/>
		<link rel="stylesheet" type="text/css" href="../css/farm.css?v=0905"/>
	</head>
	<body module-id="4">
		<div class="mainVue" id="appVue">
			<div class="header_wrap">
				<div class="header_contain">
					<div class="header_left" @click="goBack">
						<span class="triangle-btn green"></span>
					</div>
					<h1 class="header_title header_title_color">赠送给好友</h1>
			    </div>
			</div>
			<div  class="empty"></div>
			<div v-cloak class="main_wrap main_wrap_margin" v-if="friedsInfo.length" v-show="PageStatus">
				<div class="main exchange_main" v-show="PageType ===0">
					<div v-cloak class="exchange">
						<div class="goods same">
							<p>赠送物品(<b v-text="giveFriends.name"></b>)</p>
							<span><img v-bind:src="giveFriends.logo"/></span>
						</div>
						<div class="exchange_box">
							<div class="number same">
								<p>赠送数量(<b v-text="'拥有'+ giveFriends.num"></b>)</p>
								<input type="tel" class='value' maxlength = "4" placeholder="请输入整数" v-model="giveNum"/>
							</div>
							<div class="exchange_msg exchange_msg_bottom error" v-show="giveErrorMsg" v-text="giveErrorMsg"></div>
						</div>
						<div class="select_friends" >
							<p>选择要赠送的朋友</p>
							<div class="select_wrap">
								<div class="select_content clearfloat " v-bind:style="{width:getFriedsWidth}" >
									<dl  class="float_left " v-for="(item,index) in friedsInfo" :id="item.id" :class="{select_item:index==num}" @click="selectedGiveFriends(index)" >
										<dt><img :src="item.faceImg" class="border_blue"/></dt>
										<dd class='name ellipsis' v-text="item.petName"></dd>
									</dl>
									<!--<div v-show="ajaxState == 'wait'" class="page_status">
										加载中...
									</div>-->
								</div>
							</div>	
						</div>
					</div>
					<div class='exchange_b' :class="{'active':giveNum && !giveErrorMsg }" @click="giveThings">确认赠送</div>
				</div>
				<div v-cloak class="main exchange_success" v-show="PageType == 2">
					<div class="get">
						<img src="../img/farmImg/success.png"/>
						<p v-text="successful"></p>
					</div>
					<div class='exchange_index' @click="goBack">返回农场</div>
				</div>
			</div>
			<div v-cloak v-else class="noFriends" v-show="PageStatus">	
				<p>赶快去添加一些好友吧~~</p>
				<div class="friend_bottom"  @click.stop="invitationFriend" v-bind:data-obj="friedsInfo" >邀请好友</div>
			</div>
		</div>
	</body>
	<script src="../seajs/2.1.1/sea.js"></script>
	<script src="../seajs-config.js?v=20181023"></script>
	<script>
		seajs.use(['framOther'],function( zs ){
			zs.init();
		});
	</script>
	
</html>